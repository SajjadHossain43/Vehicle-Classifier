<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My GitHub Page</title>
</head>
<body>
    <h1>Welcome to My Vehicle Classifier</h1>
    <input id="photo" type="file">
    <div id="results"></div>
</body>
</html>
<script type = "module">
    import { Client } from "https://esm.sh/@gradio/client";
    
    async function loaded(reader) { 
        const inputImage = reader.result.blob();
        const client = await Client.connect("Sajjad43/vehicle-classifier");
        const result = await client.predict("/predict", { 
				image: inputImage, 
        });
        //const response = await client.predict("/predict", [reader.result]);
        const label = result['data'][0]['label'];
        results.innerHTML = `<br/> <img src = "${reader.result}" width="500"> <p>${label}</p>`;
    }
    function read() {
        const reader = new FileReader();
        reader.addEventListener('load', () => loaded(reader))
        reader.readAsDataURL(photo.files[0]);
    }
    photo.addEventListener('input', read);
    
</script>